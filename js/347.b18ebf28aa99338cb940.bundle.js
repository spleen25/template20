(self.webpackChunktemplate20=self.webpackChunktemplate20||[]).push([[347],{1347:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}}),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(8309),n(1038),n(4916);var r=n(9983),a=n.n(r),l=n(5534),i=n.n(l),o=n(1966),c=n.n(o),u=(n(2222),n(7042),n(7327),n(1539),n(7294)),s=n(4593),m=n(157),d=n(9669),f=n.n(d),p=function(){return f().post("https://apidata-new.mos.ru/v1/datasets/60863/rows?api_key=".concat("c5e6d4a3-3d1e-410e-a66c-fc4d0a883587","&$filter=Cells/startswith(Name,Флаг муниципального округа) eq true"))},b=n(2135),g=n(6393),y=(n(1249),n(4723),n(5697)),w=n.n(y),v=(0,b.Z)((function(){return{img:{width:"100%",height:650,objectFit:"contain",margin:"30px 0 10px"},contentHeader:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:30},linear:{width:"100%"},buttons:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridAutoRows:"1fr",gridGap:20,marginBottom:30},buttonNext:{width:"100%"}}})),h=/(Флаг муниципального округа\s+)(.*)(\s+в )/,E=function(e){var t=e.step,n=e.score,r=e.total,a=e.allAnswers,l=e.currentAnswer,i=e.selectedAnswer,o=e.onButtonAnswerClick,c=e.generateNewQuestion,s=v();return u.createElement(u.Fragment,null,u.createElement("div",{className:s.contentHeader},u.createElement(g.uk,{variant:"determinate",value:t*(r/100),className:s.linear}),u.createElement(g.ZT,{variant:"body1"},"Всего: ",t,"/",r),u.createElement(g.ZT,{variant:"body1"},"Правильных ответов: ",n),u.createElement("img",{src:"https://op.mos.ru/MEDIA/showFile?id=".concat(l.Cells.Picture),alt:"Флаг",className:s.img}),u.createElement(g.pT,{in:!!i},u.createElement(g.ZT,{variant:"body2"},l.Cells.Name))),u.createElement("div",null,u.createElement("div",{className:s.buttons},a.map((function(e){return u.createElement(g.zx,{variant:"contained",key:e.global_id,color:(t=e.global_id,i?t===l.global_id?"success":"error":"primary"),onClick:function(){return o(e)}},e.Cells.Name.match(h)[2]);var t}))),i&&u.createElement(g.zx,{className:s.buttonNext,variant:"contained",onClick:c},"Далее")))};E.propTypes={step:w().number.isRequired,score:w().number.isRequired,total:w().number.isRequired,allAnswers:w().array.isRequired,currentAnswer:w().object.isRequired,selectedAnswer:w().object,onButtonAnswerClick:w().func.isRequired,generateNewQuestion:w().func.isRequired};var A=(0,b.Z)((function(){return{buttonNext:{marginTop:"30px !important"}}})),N=function(e){var t,n=e.total,r=e.onButtonClick,a=A(),l=["район","района","районов"][(t=n)%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2];return u.createElement(u.Fragment,null,u.createElement(g.ZT,{variant:"body1"},"В викторине присутствует ",n," ",l),u.createElement(g.zx,{className:a.buttonNext,variant:"contained",onClick:r},"начать игру"))};function x(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return l}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}N.propTypes={total:w().number.isRequired,onButtonClick:w().func.isRequired};var T=(0,b.Z)((function(){return{wrapper:{display:"flex",flexWrap:"wrap",gap:30},circular:{position:"absolute",top:0,right:0,left:0,bottom:0,margin:"auto"},title:{marginBottom:"60px !important"},content:{display:"flex",flexDirection:"column",alignItems:"center"}}})),q=function(){var e=C((0,u.useState)(!1),2),t=e[0],n=e[1],r=C((0,u.useState)({}),2),l=r[0],o=r[1],d=C((0,u.useState)([]),2),f=d[0],b=d[1],y=C((0,u.useState)(0),2),w=y[0],v=y[1],h=C((0,u.useState)(0),2),A=h[0],k=h[1],S=C((0,u.useState)(null),2),q=S[0],R=S[1],B=C((0,u.useState)([]),2),I=B[0],Z=B[1],_=(0,m.T)(!0,p),j=_.data,D=_.loading,z=T(),F=function(){R(null);var e=i()(c()(j,I));o(e),Z((function(t){return[].concat(x(t),[e])})),b(a()([e].concat(x(a()(j).filter((function(t){return t.global_id!==e.global_id})).slice(0,3))))),k((function(e){return e+1}))};return u.createElement(u.Fragment,null,u.createElement(s.q,null,u.createElement("title",null,"Moscow Districts Quiz | TEMPLATE 20")),u.createElement(g.KP,null,u.createElement(g.ZT,{variant:"h2",component:"h1",className:z.title},"Moscow Districts Quiz"),D?u.createElement(g.D8,{className:z.circular}):u.createElement("div",{className:z.wrapper},u.createElement("div",{className:z.content},t?u.createElement(E,{step:A,score:w,total:j.length,allAnswers:f,currentAnswer:l,selectedAnswer:q,onButtonAnswerClick:function(e){e.global_id===l.global_id&&v((function(e){return e+1})),R(e)},generateNewQuestion:F}):u.createElement(N,{total:j.length,onButtonClick:function(){n(!0),F()}})))))}}}]);
//# sourceMappingURL=347.b18ebf28aa99338cb940.bundle.js.map